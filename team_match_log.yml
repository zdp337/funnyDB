kind: Event
metadata:
  name: unet_team_match_log
spec:
  description: |
    团队竞技模式和狙击模式结算

    团队竞技和狙击模式结束时触发（房间时间结束、玩家中途退出），每个玩家一条

    S19/2019-06-12
  dont_save_to_table: false
  fields:
  - description: e.g., 5c63486fbd08f80062c13ed15829d049
    name: war_id
    title: 战场ID
    type: string
  - description: e.g., 3-团队竞技，4-狙击模式
    name: gmod
    title: 游戏模式
    type: long
  - description: |-
      地图

      e.g., 5-团队竞技1，6-团队竞技2，7-团队竞技3，8-狙击地图1，9-狙击地图2
    name: mmod
    title: 匹配模式
    type: long
  - description: e.g., 1-单人，2-双人，4-四人
    name: tmod
    title: 组队模式
    type: long
  - description: e.g., 8
    name: team_members
    title: 本队队伍成员数量
    type: long
  - description: e.g., 1, 2, 3, 4, 5
    name: room_level
    title: 竞技场等级
    type: long
  - description: e.g., 1, 2
    name: group_id
    title: 阵营id
    type: long
  - description: e.g., 9871361
    name: pid
    title: 玩家pid
    type: long
  - description: e.g., 1559275002
    name: create_time
    title: 玩家创建时间(时间戳)
    type: long
  - description: |-
      这个值实际上是一个整数，如果玩家一个人进入游戏，那么这个值会是一个负数，如果玩家组队进入游戏，那么这个值是一个正数，表示玩家所在的队伍的ID。

      e.g., 729089, -9216003
    name: matching_team_id
    title: 主动匹配队伍ID
    type: string
  - description: e.g., 1563853896
    name: start_time
    title: 战场开始时间
    type: long
  - description: e.g., 0-否，1-是
    name: is_out
    title: 玩家是否中途退出
    type: long
  - description: |-
      如果玩家不是中途加入的，加入时间和战场开始时间差不多，如果玩家是中途加入的，那么加入时间

      就是它进入战场时的时间点

      e.g., 1563853896
    name: join_time
    title: 玩家加入的时间，时间戳
    type: long
  - description: e.g., 0-否，1-是
    name: is_add
    title: 玩家是否是中途加入
    type: long
  - description: |-
      包括AI

      e.g., 1
    name: kill_num
    title: 击杀数
    type: long
  - description: |-
      排除AI

      e.g., 6
    name: kill_real_num
    title: 击杀真人数
    type: long
  - description: |-
      包括AI

      e.g., 8
    name: dead_num
    title: 被击杀数
    type: long
  - description: e.g., 8
    name: dead_real_num
    title: 被真人击杀数
    type: long
  - description: |-
      标识本次游戏是否是来自自定义房间以及来自哪个自定义房间

      S21/2019-08-29加入

      eg., 1002003
    name: custom_room_id
    title: 自定义房间的房间号
    type: long
  - description: |-
      S26/2020-04-20加入

      e.g., 1-经典模式，2-街机模式，3-团队激斗，4-狙击对决，5-限时派对，6-靶场
    name: show_gmod
    title: 游戏入口显示模式
    type: long
  - description: |-
      S26/2020-04-20加入

      e.g., 0-手机，1-模拟器
    name: client_type
    title: 房间类型
    type: long
  - description: |-
      S26/2020-04-20加入

      e.g., 0
    name: damage_num
    title: 总伤害值
    type: long
  - description: |-
      游戏中中途退出的玩家不会有最终的结算，但日志会记录其最终结算数据

      e.g., 0-失败，1-胜利，2-平局，3-中途退出
    name: stat
    title: 战斗结果
    type: long
  - description: |-
      没有主动退出，默认记0

      由于unet上无法识别玩家是否通过点击主动退出的按钮进行退出，目前采用的方式是判断玩家在2分钟内没重连即为杀端

      e.g., 1563853896
    name: out_time
    title: 玩家主动退出的时间，时间戳
    type: long
  - description: |-
      S27/2020-05-18加入

      e.g., 1, 2, 3, 4 ...
    name: score_lv
    title: 玩家的段位
    type: long
  - description: |-
      记录整局的存活时间，单位秒

      S27/2020-05-18加入

      e.g., 60
    name: survive_time
    title: 存活时间
    type: long
  - description: |-
      S28/2020-06-16加入

      e.g., 0-否，1-是
    name: is_dead_out
    title: 玩家中途退出时是否死亡
    type: long
  - description: |-
      V31/2020-10-12加入

      e.g., 10
    name: no_op_time
    title: 未进行操作总时长
    type: long
  - description: |-
      V31/2020-10-12加入

      e.g., 10
    name: quit_time
    title: 玩家主动按下退出按钮的时间戳
    type: long
  - description: |-
      V31/2020-10-12加入

      e.g., 100
    name: credit
    title: 玩家当前信誉值
    type: long
  - description: |-
      V47/2023-0511 加入

      e.g., 1100
    name: grade_score
    title: 段位分数
    type: long
  name: team_match_log
  source: unet
  title: unet团队模式下玩家结算日志
